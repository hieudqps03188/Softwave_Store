<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
	<link rel="stylesheet" href="css/style-dialog.css">
	<link rel="icon" href="images/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
	<script src="js/jquery.js"></script>
	<script src="js/jquery-migrate-1.1.1.js"></script>
	<script src="js/bgstretcher.js"></script>
    <title>Sign-Up/Login Form</title>
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>  
    <link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/style1.css">

  </head>

  <body>
  <header>
    <div class="row-nav">
      <div class="main">
        <h1 class="logo"><a href="index.html"><img alt="" src="images/logo.png"></a></h1>
        <nav>
          <ul class="menu">
            <li class="current"><a href="index.html">Đăng Nhập / Đăng ký</a></li>
          </ul>
        </nav>
        
      </div>
    </div>
  </header>
    <div class="form">
      
      <ul class="tab-group">
        <li class="tab active"><a href="#signup">Sign Up</a></li>
        <li class="tab"><a href="#login">Log In</a></li>
      </ul>
      
      <div class="tab-content">
        <div id="signup">   
          <h1>Sign Up for Free</h1>
          
          <form action="/" method="post">

          <div class="field-wrap">
            <label>
              Email Address<span class="req">*</span>
            </label>
            <input type="email"required autocomplete="off" id="email"/>
          </div>
          
          <div class="field-wrap">
            <label>
              Set A Password<span class="req">*</span>
            </label>
            <input type="password"required autocomplete="off" id="pass"/>
          </div>
          
          <button type="button" class="button button-block" onclick="Register();"/>Submit</button>
          
          </form>

        </div>
        
        <div id="login">   
          <h1>Welcome Back!</h1>
          
          <form action="/" method="post">
          
            <div class="field-wrap">
            <label>
              Email Address<span class="req">*</span>
            </label>
            <input type="email"required autocomplete="off" id="emaillogin"/>
          </div>
          
          <div class="field-wrap">
            <label>
              Password<span class="req">*</span>
            </label>
            <input type="password"required autocomplete="off" id="passlogin"/>
          </div>
          
          <p class="forgot"><a href="#">Forgot Password?</a></p>
          
          <button type="button" class="button button-block" onclick="Login();"/>Log In</button>
          
          </form>

        </div>
        
      </div><!-- tab-content -->
      
</div> <!-- /form -->
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

        <script src="js/index1.js"></script>

    
    
    
  </body>
	<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-database.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-storage.js"></script>
	
	<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
		apiKey: "AIzaSyDRPI6KIM4yYEMQaTKmXR4HRDI05_ikznM",
		authDomain: "assignment-2afba.firebaseapp.com",
		databaseURL: "https://assignment-2afba.firebaseio.com",
		storageBucket: "assignment-2afba.appspot.com",
	  };
	  firebase.initializeApp(config);
    
	  //Register
	  function Register(){
		var email = document.getElementById("email").value;
		var pass = document.getElementById("pass").value;
		
		firebase.auth().createUserWithEmailAndPassword(email, pass).catch(function(error) {
		  var errorCode = error.code;
		  var errorMessage = error.message;
		});
		
		alert("Register Success!");
		document.getElementById("email").value = "";
		document.getElementById("pass").value="";
	  }
	  
	  //Login
	  function Login(){
		var email = document.getElementById("emaillogin").value;
		var pass = document.getElementById("passlogin").value;
	  
		firebase.auth().signInWithEmailAndPassword(email, pass).catch(function(error) {
		  // Handle Errors here.
		  var errorCode = error.code;
		  var errorMessage = error.message;
		  // ...
		});
	  }
	  
	  //Manager User
	  firebase.auth().onAuthStateChanged(function(user) {
		  if (user) {
			console.log("Login");
			if(user.uid == "WyyM3dBaPcaaAa1eD5H3gJ29aDj1"){
				location = "more.html";
			}else{
				location = "trang chủ.html"
			}
		  } else {
			console.log("Logout");
		  }
	  });
	</script>
</html>
